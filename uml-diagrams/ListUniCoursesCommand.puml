@startuml

hide footbox

actor CEG_Student

participant ":ListUniCoursesCommand" as ListUniCoursesCommand
participant ":Command" as Command

CEG_Student -> ListUniCoursesCommand : execute(userInput: String)
activate ListUniCoursesCommand

ListUniCoursesCommand -> Command : createJsonObject()
activate Command

opt inputStream is null
    Command -> Command: throw new IOException()
end

Command --> ListUniCoursesCommand: jsonObject : JsonObject
deactivate Command

ListUniCoursesCommand -> ListUniCoursesCommand : getPuName(userInput: String)
activate ListUniCoursesCommand

opt puName is empty
    ListUniCoursesCommand -> ListUniCoursesCommand : throw new IllegalArgumentException
end
return puName : String

ListUniCoursesCommand -> ListUniCoursesCommand : getUniCourses(...)
activate ListUniCoursesCommand

ListUniCoursesCommand -> ListUniCoursesCommand : findUniversityName(...)
activate ListUniCoursesCommand
return universityName : String

alt universityName == null
ListUniCoursesCommand -> ListUniCoursesCommand : handleUnknownUniversity(...)
activate ListUniCoursesCommand
return
    else
    ListUniCoursesCommand -> ListUniCoursesCommand : listCourses(...)
    activate ListUniCoursesCommand
    loop for courseArray.size()
    ListUniCoursesCommand -> ListUniCoursesCommand : print course details
    end
return
end
return
ListUniCoursesCommand --> CEG_Student
deactivate ListUniCoursesCommand

@enduml